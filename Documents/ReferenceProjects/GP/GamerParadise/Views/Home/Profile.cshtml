@model User

<img alt="profile-image" src='@Model.Base64ProfileImageString' class="profileImage" />
<a asp-controller="account" asp-action="EditProfile" class="btn btn-primary" role="button">Edit Profile</a>
<div class="container-fluid">
    <div class="border border-dark mt-5">
        <h3 class="text-center text-primary mt-2">Profile</h3>
        <div class="row justify-content-around">
            <div class="bg-dark rounded-lg col-5 m-3">
                <div class="p-3">
                    <h3 class="mb-3"><b>Next Payment</b></h3>
                    @if (Model.Subscription == null)
                    {
                        <h6 class="text-danger text-center mb-2">You have no active subscription</h6>
                    }
                    else if (Model.Subscription.IsActive == true)
                    {
                        <div class="d-flex">
                            <h6 class="col-6 text-light mb-2"><b>Due Date:</b></h6>
                            <h2 class="col-6 text-light mb-2">
                                @Model.Subscription.ExpirationDate.ToString("MM/dd/yy")</h2>
                        </div>
                        <div class="d-flex">
                            <h6 class="col-6 text-light mb-2"><b>Cost:</b></h6>
                            <h2 class="col-6 mb-2">$@Model.Subscription.Plan.Price/mo</h2>
                        </div>
                    }
                    else
                    {
                        <h6 class="text-warning text-center- mb-2">Your subscription has ended</h6>
                    }
                </div>
            </div>
            <div class="bg-dark rounded-lg col-5 m-3">
                <div class="p-3">
                    <h3 class="mb-3"><b>Subscription</b></h3>
                    @if (Model.Subscription == null)
                    {
                        <h6 class="text-danger text-center mb-2">You have no active subscription</h6>
                        <a asp-controller="home" asp-action="Subscription" class="btn btn-success"
                        role="button">Subscribe</a>
                    }
                    else if (Model.Subscription.IsActive == true)
                    {
                        <div class="d-flex">
                            <h6 class="col-6 text-light mb-2"><b>Current Plan:</b></h6>
                            <h2 class="col-6 mb-2">@Model.Subscription.Plan.Name</h2>
                        </div>
                        <div class="row justify-content-around">
                            <a asp-controller="account" asp-route-id="@Model.Subscription.SubscriptionId"
                            asp-action="EditSubscription" class="btn btn-primary" role="button">Edit</a>
                            <a asp-controller="account" asp-route-id="@Model.Subscription.SubscriptionId"
                            asp-action="ViewPlan" class="btn btn-warning text-light" role="button">View</a>
                            <a asp-controller="account" asp-route-id="@Model.Subscription.SubscriptionId"
                            asp-action="CancelSubscription" class="btn btn-danger" role="button">Cancel</a>
                        </div>
                    }
                    else
                    {
                        <h6 class="text-warning text-center- mb-2">Your subscription has ended</h6>
                        <a asp-controller="account" asp-action="EditSubscription"
                        asp-route-id="@Model.Subscription.SubscriptionId" class="btn btn-warning"
                        role="button">Resubscribe</a>
                    }
                </div>
            </div>
        </div>
        <div class="row justify-content-around">
            <div class="bg-dark rounded-lg col-5 m-3">
                <div class="p-3">
                    <h3 class="mb-3"><b>Personal Info</b></h3>
                    <div class="d-flex">
                        <h6 class="col-3 text-light my-2"><b>Name:</b></h6>
                        <h5 class="col-9 text-light my-2">@Model.FirstName</h5>
                    </div>
                    <div class="d-flex">
                        <h6 class="col-3 text-light my-2"><b>Email:</b></h6>
                        <h5 class="col-9 text-light my-2">@Model.EmailAddress</h5>
                    </div>
                    <div class="d-flex">
                        <h6 class="col-3 text-light my-2"><b>Username:</b></h6>
                        <h5 class="col-9 text-light my-2">@Model.Username</h5>
                    </div>
                </div>
            </div>
            <div class="bg-dark rounded-lg col-5 m-3">
                <div class="p-3">
                    <h3 class="mb-3"><b>Credit Cards</b></h3>
                    @foreach (CreditCard cc in Model.Cards)
                    {
                        <div class="row p-3">
                            <div class="col-8">
                                <label for="CreditCardNumber"> @cc.CardNum </label>
                            </div>
                            <div class="col-2">
                                <a asp-controller="account" asp-action="EditCreditCard" asp-route-id="@cc.CardId"
                                class="btn btn-warning text-light" role="button">Edit</a>

                            </div>
                            <div class="col-2">
                                <a asp-controller="account" asp-action="DeleteCreditCard" asp-route-id="@cc.CardId"
                                class="btn btn-danger" role="button">
                                    Delete</a>
                            </div>
                        </div>
                    }
                    <div class="text-center">
                        <a asp-controller="account" asp-action="AddCreditCard" class="btn btn-primary"
                            role="button">Add</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
</div>